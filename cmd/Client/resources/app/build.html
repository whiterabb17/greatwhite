<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <link rel="stylesheet" href="static/css/base.css"/>
        <link rel="stylesheet" href="static/lib/astiloader/astiloader.css">
        <link rel="stylesheet" href="static/lib/astimodaler/astimodaler.css">
        <link rel="stylesheet" href="static/lib/astinotifier/astinotifier.css">
        <link rel="stylesheet" href="static/lib/font-awesome-4.7.0/css/font-awesome.min.css">
    </head>
    <body>
        <div class="right">
            <p align="center"><img align="center" src="static/imgs/Necromancer.png" style="width: 100px;"></p>
            <div class="title"><span id="Stat">Builder</span></div>
            <div class="panel">
                <Label for="callbackAddr">Addr:  
                <input name="callbackAddr" value="" id="callback_addr" />
                <br><br>&ensp;
                <Label for="callbackPort"> Port:  
                <input name="callbackPort" value="" id="callback_port" />
            </div>
            <div class="panel">
                <Label for="lang">Build Lang: 
                <select id="lang" style="width:120px;left:1.5%" onchange="selectLang()">
                    <option> Golang </option>
                    <option> CSharp </option>
                    <option> Rust </option>
                </select>
            </div>
            <div class="panel">
                <Label for="os">Build OS: 
                <select id="os" style="width:120px;left:1.5%" onchange="selectOS()">
                    <option> Windows </option>
                    <option> Linux </option>
                    <option> Darwin </option>
                </select>
            </div>
            <div class="rightpanel"  style="padding: 5px;">
                <div style="right:75%"><button style="align-self: center;" class="submit" name="submit" id="submit" onclick="submit()">Build</button></div>
            </div>  
        </div>
        <script src="static/js/build.js"></script>
        <script src="static/lib/astiloader/astiloader.js"></script>
        <script src="static/lib/astimodaler/astimodaler.js"></script>
        <script src="static/lib/astinotifier/astinotifier.js"></script>
        <script src="static/lib/chart/chart.min.js"></script>
        <script type="text/javascript">
            build.init();
            var selectedLang;
            var selectedOs;
            function submit(){
                let addr = document.getElementById("callback_addr").value
                let port = document.getElementById("callback_port").value
                document.getElementById("callback_addr").value = ""
                document.getElementById("callback_port").value = ""
                build.grabBuildvars(addr, port, selectOS());
            }
            function selectLang() {  
                var mylist = document.getElementById("lang");  
                selectedLang = mylist.options[mylist.selectedIndex].text;
            } 
            function selectOS() {  
                var mylist = document.getElementById("os");  
                selectedOs = mylist.options[mylist.selectedIndex].text;
                return selectedOs
            } 
        </script>
    </body>
</html>